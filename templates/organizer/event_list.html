{% extends 'base.html' %}

{% block title %}Event List{% endblock %}
{% block content %}
<style>
  body {
margin: 0;
font-family: 'Muli', sans-serif;
-webkit-box-sizing: border-box;
box-sizing: border-box;
overflow-x: hidden;
}
main {
    position:static;
  }
.background {
background: url('https://images.pexels.com/photos/1095624/pexels-photo-1095624.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260')
  center top no-repeat #252746;
background-size: cover;
display: block;
width: 100%;
height: 65rem;
position: absolute;
z-index: 0;
top: 0;
left: 0;
}

.background-texture {
background: -webkit-gradient(
  linear,
  left bottom,
  left top,
  from(#0f0140e6),
  to(rgba(255, 214, 117, 0.9))
);
background: linear-gradient(to top, #0f0140e6, rgba(255, 214, 117, 0.9));
background-size: cover;
width: 100%;
height: 65rem;
position: absolute;
z-index: 0;
top: 0;
left: 0;
}

.carousel {
width: 100%;
overflow-x: auto;
/* padding: 30px; */
position: relative;
-webkit-box-sizing: border-box;
box-sizing: border-box;
display: flex;
flex-wrap: nowrap; 
justify-content: center;
}

.carousel__container {
white-space: nowrap;
/* margin: -8px 0px; */
padding-bottom: 10px;
display: inline-block;
text-align: justify; 
}

h2 {
color: rgb(0, 0, 0);
font-size: 35px;
position:relative;
text-align: center;
}

.carousel-item {
width: 250px;
height: 300px;
border-radius: 20px;
background-color: #95bcd6;
overflow: hidden;
margin-right: 17px;
margin-top: 115px;
margin-bottom: 76px;
display: inline-block;
cursor: pointer;
-webkit-transition: 1000ms all;
transition: 1000ms all;
-webkit-transform-origin: center left;
transform-origin: center left;
position: relative;
}

.carousel-item:hover ~ .carousel-item {
-webkit-transform: translate3d(100px, 0, 0);
transform: translate3d(100px, 0, 0);
}

.carousel__container:hover .carousel-item {
opacity: 0.3;
}

.carousel__container:hover .carousel-item:hover {
-webkit-transform: scale(1.5);
transform: scale(1.5);
opacity: 1;
}

.carousel-item:hover .carousel-item__details {
  opacity: 1;
}

.carousel-item__img {
width: 250px;
height: 300px;
-o-object-fit: cover;
object-fit: cover;
}

.carousel-item__details {
background: -webkit-gradient(
  linear,
  left bottom,
  left top,
  from(rgba(0, 0, 0, 0.9)),
  to(rgba(0, 0, 0, 0))
);
background: linear-gradient(
  to top,
  rgba(0, 0, 0, 0.9) 0%,
  rgba(0, 0, 0, 0) 100%
);
font-size: 13px;
opacity: 0;
-webkit-transition: 450ms opacity;
transition: 450ms opacity;
padding: 10px;
position: absolute;
top: 0;
left: 0;
right: 0;
bottom: 0;
}

.carousel-item__details:hover {
opacity: 1;
}

.carousel-item__details span {
/* width: 10px;
height: 10px; */
font-size: 1.5rem;
color: #2ecc71;
/* background-color: white; */
}

.carousel-item__details .controls {
padding-top: 180px;
}

.carousel-item__details .carousel-item__details--title,
.carousel-item__details--subtitle {
color: #fff;
margin: 5px 0;
}
.btn {
          position: absolute;
          display: inline-block;
          padding: 0.5rem 1rem;
          background-color: #007bff;
          color: #fff;
          text-decoration: none;
          border-radius: 5px;
          transition: background-color 0.3s ease;
          margin-bottom: 20px;
          margin-left: -55%;
          justify-content:left;
      }

.btn:hover {
   background-color: #0056b3;
 } 
/* Hide scrollbar for Chrome */
.carousel::-webkit-scrollbar {
    width: 10px;
  }

  .carousel::-webkit-scrollbar-thumb {
    background-color: black;
    border-radius: 10px;
  }

  /* Hide scrollbar for Firefox */
  .carousel {
    scrollbar-width: thin;
    scrollbar-color: black;
  }

  .carousel::-moz-scrollbar-thumb {
    background-color: black;
    border-radius: 10px;
  }

  .viewbutton {
        background-color: rgb(120, 223, 120);
        color: rgb(255, 255, 255);
        padding: 4px 8px;
        border-radius: 5px;
        text-decoration: none;
        display: inline-block;
        border: 1px solid lightgreen; /* optional: add border */
    }

    .viewbutton:hover {
        background-color: limegreen; /* change color on hover */
        border-color: limegreen; /* optional: change border color on hover */
    }
.errorshow{
  margin-top: 100px;
}
</style>

<div class="background"></div>
  <div class="background-texture"></div>
  <h2 >Event List</h2>
  <section class="carousel">
   
    <a href="{% url 'create-event' %}" class="btn btn-primary">Create Event</a> 
    <div class="carousel__container">
    {% for event in upcoming_events %}
  
      <div class="carousel-item">
        <img
          class="carousel-item__img"
          src="{{ event.logo.url }}"
          alt="{{ event.title }} Logo"
        />
        <div class="carousel-item__details">
          <div class="controls">
           
              <a href="{% url 'event-detail' event.id %}" class="viewbutton">Details</a>
            
          </div>
          <h5 class="carousel-item__details--title">{{ event.title }}</h5>
          <h6 class="carousel-item__details--subtitle">{{ event.address }}</h6>
          <h6 class="carousel-item__details--subtitle">{{ event.date }}</h6>
        </div>
      </div>
      {% empty %}
      <div class="errorshow">
      <h3>Let's create a fantastic event.Let's go......................</h3>
    </div>
  {% endfor %}
    </div>
        
  </section> 

  {% if past_events %}
  <h2 > Past Event List</h2>
  <section class="carousel">
    <div class="carousel__container">
    {% for event in past_events %}
  
      <div class="carousel-item">
        <img
          class="carousel-item__img"
          src="{{ event.logo.url }}"
          alt="{{ event.title }} Logo"
        />
        <div class="carousel-item__details">
          <div class="controls">
           
              <a href="{% url 'event-detail' event.id %}" class="viewbutton">Details</a>
            
          </div>
          <h5 class="carousel-item__details--title">{{ event.title }}</h5>
          <h6 class="carousel-item__details--subtitle">{{ event.address }}</h6>
          <h6 class="carousel-item__details--subtitle">{{ event.date }}</h6>
        </div>
      </div>
  {% endfor %}
    </div>
  </section>
  {% endif %}
   

    {% if event_created %}
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            Swal.fire({
                icon: 'success',
                title: 'Event Created!',
                text: 'The event has been created successfully.',
                confirmButtonText: 'OK'
            });
        });
    </script>
    {% endif %}
    {% if event_deleted %}
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            Swal.fire({
                icon: 'success',
                title: 'Event Deleted!',
                text: 'The event has been deleted successfully.',
                confirmButtonText: 'OK'
            });
        });
    </script>
    {% endif %}
    {% if event_updated %}
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            Swal.fire({
                icon: 'success',
                title: 'Event Updated!',
                text: 'The event has been updated successfully.',
                confirmButtonText: 'OK'
            });
        });
    </script>
    {% endif %}
    
{% endblock %}
